; vim:ft=dosini
;Conf by treia
;https://www.github.com/treia

[colors]
background = #262626
foreground = #ebdbb2
red = #cc241d
lightred = #d65d0e
yellow = #d79921
magenta = #b16286
green = #98971a
blue = #458588
darkblack = #1d2021
darkgrey = #928374
darkwhite = #a89984
lightblack = #3c3836

[global/wm]
margin-bottom = 100
margin-top = 100

[bar/main]
monitor = DisplayPort-0
monitor-strict = false
override-redirect = false
bottom = false

width = 100%
height = 24
radius = 1
underline-size = 2

; module-margin-left = 2

background = ${colors.background}
foreground = ${colors.foreground}

font-0 = ypn envypn:size=15;2
font-1 = Material Icons:pixelsize=10;3
font-2 = FontAwesome:pixelsize=10;2

modules-left = date pkg mpd
modules-center = i3
modules-right = memory filesystem pavolume cpu network powermenu

dim-value = 1.0

[bar/secondary]
monitor = DVI-1
monitor-strict = false
override-redirect = false
bottom = false

width = 100%
height = 24
radius = 3
underline-size = 2

; module-margin-left = 2

background = ${colors.background}
foreground = ${colors.foreground}

font-0 = ypn envypn:size=15;2
font-1 = Material Icons:pixelsize=10;3
font-2 = FontAwesome:pixelsize=10;2

modules-left = date redshift mpd
modules-center = i3
modules-right = memory filesystem pavolume cpu network powermenu

dim-value = 1.0

[module/cpu]
type = internal/cpu
interval = 5

format = <label>
label-underline = ${colors.blue}
label =  %percentage%%
label-margin-left = 2
; format-underline  = #FF8ec07c

[module/date]
type = internal/date
interval = 1

date =  %a %d %b
time =  %T

date-alt =  %x
time-alt =  %X

format = <label>
label = %date% %time%
format-padding = 1
format-background = ${colors.lightblack}

[module/xwindow]
type = internal/xwindow
label = %title:0:40:...%

[module/i3]
type = internal/i3
pin-workspaces = true
strip-wsnumbers = true
enable-click = true
enable-scroll = false

format = <label-state> <label-mode>

label-mode-padding = 2
label-mode-background = ${colors.blue}

label-focused-foreground = ${colors.foreground}
label-focused-background = ${colors.background}
label-focused-padding = 0

label-unfocused-padding = 0
label-unfocused-foreground = ${colors.darkgrey}

label-urgent-foreground = ${colors.red}
label-urgent-padding = 0

label-visible-padding = 0

[module/pkg]
type = custom/script
interval = 10
format-background = ${colors.red}
format-foreground = ${colors.background}
exec = /home/snoop/.config/scripts/updates.sh
; exec-if = "ping -q -w 2 -c 1 176.34.135.167 > /dev/null"

[module/datealt]
type = internal/date
interval = 2

date = "  %d.%m.%Y"
date-alt = "  %A, %d. %B"

time = "%H:%M"
time-alt = "%H:%M:%S"

format-underline = ${colors.foreground}
format-padding = 2
label = "%date% | %time%"

[module/powermenu]
type = custom/menu

label-open = 
label-open-margin-left = 2
label-close = cancel
label-close-margin-left = 2

menu-0-0 = reboot
menu-0-0-exec = menu-open-1
menu-0-1 = power off
menu-0-1-exec = menu-open-2
menu-0-2 = lock
menu-0-2-exec = menu-open-3
menu-0-0-padding = 1
menu-0-1-padding = 1
menu-0-2-padding = 1

menu-1-0 = reboot?  
menu-1-0-exec = reboot
menu-1-0-padding = 1

menu-2-0 = power off?  
menu-2-0-exec = poweroff
menu-2-0-padding = 1

menu-3-0 = lock?  
menu-3-0-exec = ~/.config/scripts/lock.sh
menu-3-0-padding = 1

label-open-padding = 1
label-open-background = ${colors.red}
label-close-background = ${colors.red}

[module/redshift]
type = custom/script
interval = 5
exec = ~/.config/polybar/redshift.sh
format-margin = 1

[module/pavolume]
type = custom/script
interval = 1
label = %output%
label-margin-left = 2
label-underline = ${colors.magenta}
exec = ~/.config/polybar/pavolume.sh
click-right = exec pavucontrol
click-left = ~/.config/polybar/pavolume.sh --togmute
scroll-up = ~/.config/polybar/pavolume.sh --up
scroll-down = ~/.config/polybar/pavolume.sh --down

[module/network]
type = internal/network
interface = wlp10s0
interval = 3

ping-interval = 3
format-connected = <label-connected>
label-connected =  %essid% | %upspeed%  %downspeed%
label-connected-underline = ${colors.green}
label-connected-margin-left = 2
format-disconnected = <label-disconnected>
label-disconnected = 
label-disconnected-underline = ${colors.red}
label-disconnected-margin-left = 2

[module/filesystem]
type=internal/fs

mount-0 = /home
interval = 30
fixed-values = false
format-mounted = <label-mounted>
label-mounted =  %free%
label-mounted-margin-left = 2
label-mounted-underline = ${colors.yellow}

[module/memory]
type = internal/memory
interval = 2
format = <label>
label =  %gb_used%/%gb_free%
label-margin-left = 2
label-underline = ${colors.lightred}

[module/mpd]
type = internal/mpd
host = 127.0.0.1
port = 6600
interval = 2
format-online = <icon-prev> <icon-seekb> <toggle> <icon-seekf> <icon-next>  <icon-repeatone> <icon-repeat> <icon-random>  <label-time> <label-song>
format-online-margin = 1
label-song =  %artist% - %title%
icon-play = 
icon-pause = 
icon-prev = 
icon-next = 
icon-seekb = 
icon-seekf = 
icon-random = 
icon-repeat = 
icon-repeatone = 
